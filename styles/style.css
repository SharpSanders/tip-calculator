/* Better Endeavors â€” Tip Calculator
   Modern, accessible, mobile-first; ~350 lines
*/
:root{
  --color-primary:#162B51;
  --color-secondary:#2E6EBE;
  --color-accent:#00BFA6;
  --color-text:#0E1420;
  --color-bg:#FFFFFF;
  --color-surface:#E9EEF7;
  --color-neutral-700:#1B2433;
  --color-neutral-500:#3D4A61;
  --color-neutral-300:#8EA0BF;
  --color-error:#C0392B;

  /* Type & rhythm */
  --step--1: clamp(0.86rem, 0.84rem + 0.2vw, 0.95rem);
  --step-0: clamp(1rem, 0.96rem + 0.35vw, 1.125rem);
  --step-1: clamp(1.125rem, 1.05rem + 0.6vw, 1.35rem);
  --step-2: clamp(1.35rem, 1.2rem + 0.9vw, 1.62rem);
  --step-3: clamp(1.62rem, 1.4rem + 1.2vw, 1.94rem);

  --radius: 14px;
  --radius-sm: 10px;
  --shadow: 0 8px 24px rgba(22,43,81,.08), 0 2px 6px rgba(22,43,81,.06);

  /* Spacing (fluid 4/8 scale) */
  --space-1: clamp(0.5rem, 0.35rem + 0.6vw, 0.75rem);
  --space-2: clamp(0.75rem, 0.55rem + 0.8vw, 1rem);
  --space-3: clamp(1rem, 0.7rem + 1.2vw, 1.5rem);
  --space-4: clamp(1.5rem, 1rem + 1.6vw, 2rem);
  --space-5: clamp(2rem, 1.5rem + 2.2vw, 3rem);
}

@media (prefers-color-scheme: dark){
  :root{
    --color-bg:#0E1420;
    --color-surface:#1B2433;
    --color-text:#E9EEF7;
    --color-neutral-300:#8EA0BF;
    --shadow: 0 8px 24px rgba(0,0,0,.35), 0 2px 6px rgba(0,0,0,.25);
  }
}

*{box-sizing:border-box}
html,body{height:100%}
html{scroll-behavior:smooth}
body{
  margin:0;
  font: 400 var(--step-0) "Inter", system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif;
  color:var(--color-text);
  background:linear-gradient(180deg,#fff, #f7f9fe);
  background-color:var(--color-bg);
}

/* Utilities */
.visually-hidden{position:absolute!important;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
.skip-link{
  position:absolute;left:-9999px;top:auto;
}
.skip-link:focus{
  left:1rem;top:1rem;z-index:1000;background:var(--color-accent);color:#003d36;
  padding:0.5rem 0.75rem;border-radius:8px;outline:2px solid var(--color-accent);outline-offset:2px
}

/* Header */
.site-header{
  position:sticky;top:0;z-index:10;background:var(--color-bg);
  border-bottom:1px solid color-mix(in srgb, var(--color-neutral-300) 25%, transparent);
  backdrop-filter:saturate(1.2) blur(6px);
}
.brand{display:flex;align-items:center;gap:.75rem;padding:var(--space-2) var(--space-3)}
.logo{display:block;height:28px}

/* Layout */
.container{
  max-width:1100px;margin:0 auto;padding:var(--space-3);
  display:grid;gap:var(--space-3)
}
.panel{
  background:var(--color-surface);
  border:1px solid color-mix(in srgb, var(--color-neutral-300) 40%, transparent);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  padding:var(--space-3);
}
.panel h2{margin:0 0 var(--space-2);font-size:var(--step-2);color:var(--color-primary)}
.inputs .field{margin-bottom:var(--space-3)}
.help{margin:.5rem 0 0;color:var(--color-neutral-500);font-size:var(--step--1)}
.error{margin:.4rem 0 0;color:var(--color-error);min-height:1.2em}

/* Responsive panels */
@media(min-width:900px){
  .container{grid-template-columns: 1fr 1fr}
  .results{align-self:start;position:sticky;top:84px}
}

/* Forms */
label, legend{font-weight:600}
input, button{
  font: inherit;
}
input[type="text"],
input[type="number"]{
  width:100%;
  padding:.75rem .9rem;
  border-radius:var(--radius-sm);
  border:1px solid color-mix(in srgb, var(--color-neutral-300) 60%, transparent);
  background:#fff;
  color:var(--color-text);
}
@media (prefers-color-scheme: dark){
  input[type="text"],input[type="number"]{
    background:var(--color-neutral-700);
    color:var(--color-text);
    border-color: color-mix(in srgb, var(--color-neutral-300) 40%, transparent);
  }
}
input::placeholder{color:var(--color-neutral-300)}

.input-with-prefix{
  position:relative;
}
.input-with-prefix .prefix{
  position:absolute;left:.75rem;top:50%;transform:translateY(-50%);color:var(--color-neutral-500)
}
.input-with-prefix input{padding-left:1.7rem}

/* Tip grid */
.tip-grid{display:grid;grid-template-columns: repeat(6, minmax(0,1fr));gap:.5rem}
.tip-btn{
  border:1px solid color-mix(in srgb, var(--color-neutral-300) 50%, transparent);
  background:#fff;color:var(--color-primary);padding:.65rem .5rem;border-radius:12px;cursor:pointer
}
.tip-btn[aria-pressed="true"]{
  background:var(--color-primary);color:#fff;border-color:var(--color-primary)
}
.custom-tip{
  display:flex;align-items:center;gap:.25rem;background:#fff;border:1px dashed var(--color-neutral-300);
  border-radius:12px;padding:.25rem .35rem
}
.custom-tip input{
  width:100%;border:0;background:transparent;padding:.4rem .2rem;outline:none
}

/* Stepper */
.stepper{display:flex;align-items:center;gap:.5rem}
.stepper-btn{
  width:2.5rem;height:2.5rem;border-radius:12px;border:1px solid color-mix(in srgb, var(--color-neutral-300) 50%, transparent);background:#fff;color:var(--color-primary);cursor:pointer
}
.stepper input{max-width:6rem;text-align:center}

/* Radios & toggles */
.radios{display:flex;flex-wrap:wrap;gap:.75rem}
.radios label{display:flex;align-items:center;gap:.4rem}
.controls-row{display:flex;gap:1rem;align-items:center;flex-wrap:wrap}
.pct{display:flex;align-items:center;gap:.25rem}
.pct input{max-width:8rem}
.toggle{display:flex;align-items:center;gap:.5rem}

/* Actions */
.actions{display:flex;gap:.75rem;flex-wrap:wrap;margin-top:var(--space-2)}
.btn{
  --btn-bg: var(--color-primary);
  --btn-fg: #fff;
  border:0;border-radius:12px;padding:.7rem 1rem;cursor:pointer;font-weight:600;
  background:var(--btn-bg);color:var(--btn-fg);
  box-shadow:0 4px 12px rgba(22,43,81,.12)
}
.btn.primary{--btn-bg: var(--color-accent); --btn-fg:#003d36}
.btn.secondary{--btn-bg:#fff; --btn-fg:var(--color-primary); border:1px solid color-mix(in srgb, var(--color-neutral-300) 60%, transparent); box-shadow:none}

/* Results */
.grid-results{
  display:grid;gap:.75rem;grid-template-columns: repeat(2, minmax(0,1fr))
}
.card{
  background:#fff;border-radius:16px;border:1px solid color-mix(in srgb, var(--color-neutral-300) 60%, transparent);
  padding:1rem;box-shadow:var(--shadow)
}
.card.wide{grid-column:1/-1}
.label{color:var(--color-neutral-500);font-size:var(--step--1)}
.value{font-size:var(--step-3);font-weight:700;color:var(--color-primary)}
.meta{margin-top:.35rem;color:var(--color-neutral-500);font-size:var(--step--1)}

@media (prefers-color-scheme: dark){
  .panel{background:var(--color-neutral-700)}
  .tip-btn{background:var(--color-neutral-700);color:#E9EEF7}
  .tip-btn[aria-pressed="true"]{background:var(--color-primary)}
  .custom-tip{background:var(--color-neutral-700);border-color: color-mix(in srgb, var(--color-neutral-300) 35%, transparent)}
  .stepper-btn{background:var(--color-neutral-700);color:#E9EEF7}
  .btn.secondary{background:var(--color-neutral-700);color:#E9EEF7}
  .card{background:var(--color-neutral-700)}
}

/* Focus styles */
:focus-visible{
  outline:2px solid var(--color-accent);
  outline-offset:2px;
  border-radius:10px;
}

/* Footer */
.site-footer{
  margin-top:var(--space-4);
  padding:var(--space-3);
  text-align:center;
  color:var(--color-neutral-500)
}
.site-footer a{color:var(--color-secondary);text-underline-offset:2px}

/* No-JS */
.no-js{
  background:#fff;border-left:4px solid var(--color-secondary);padding:.75rem;border-radius:8px
}

/* Motion */
@media (prefers-reduced-motion: reduce){
  *{scroll-behavior:auto}
}
